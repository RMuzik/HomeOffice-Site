---
import BestOfEN from '../../layouts/BestOfEN.astro';
import ProductCard from '../../components/ProductCard.astro';

const AFFILIATE_TAG = import.meta.env.AFFILIATE_TAG_EN || 'zeroalc-21';
const LAST_UPDATED = 'February 21, 2026';

const products = [
  {
    rank: 1,
    badge: 'pick' as const,
    brand: 'CleverSeat',
    name: 'Adjustable Mesh Ergonomic Chair',
    asin: 'B0BGZB6VZM',
    price: '$259',
    rating: 4.6,
    reviewCount: 1250,
    img: 'üèÜ',
    imgUrl: '/products/B0BGZB6VZM.jpg',
    highlight: true,
    verdict: 'Our best ergonomic pick on Amazon. Breathable mesh back, adjustable lumbar, height-adjustable headrest, and 3D armrests. Outstanding comfort-to-durability ratio for remote workers logging long hours.',
    pros: ['Adjustable 3D lumbar', 'Breathable mesh back', 'Headrest included'],
    cons: ['Lesser-known brand', 'Assembly ~45 min'],
  },
  {
    rank: 2,
    badge: 'budget' as const,
    brand: 'Alpha Chair',
    name: 'Ergonomic Office Chair 330 lb Capacity',
    asin: 'B0GFMQMJ47',
    price: '$169',
    rating: 4.4,
    reviewCount: 890,
    img: 'ü™ë',
    imgUrl: '/products/B0GFMQMJ47.jpg',
    verdict: 'Excellent value for a first ergonomic setup. Adjustable lumbar support, height adjustment, padded armrests. Ideal for remote workers starting out on a tighter budget.',
    pros: ['Budget-friendly price', 'Adjustable lumbar', '330 lb weight capacity'],
    cons: ['Fewer premium adjustments', 'Long-term durability TBD'],
  },
  {
    rank: 3,
    badge: null,
    brand: 'BrightSeat',
    name: 'High-Back Mesh Ergonomic Chair',
    asin: 'B0FR981Z25',
    price: '$155',
    rating: 4.3,
    reviewCount: 756,
    img: 'üåø',
    imgUrl: '/products/B0FR981Z25.jpg',
    verdict: 'A high-back mesh chair for under $160. Integrated headrest, adjustable tilt mechanism. Solid option if your budget is tight but you want more back support.',
    pros: ['High back design', 'Headrest included', 'Competitive price'],
    cons: ['Seat cushion thinner', 'Basic lumbar support'],
  },
  {
    rank: 4,
    badge: 'new' as const,
    brand: 'Hbada',
    name: 'Lightweight Mesh Ergonomic Office Chair',
    asin: 'B0F371HFBT',
    price: '$109',
    rating: 4.2,
    reviewCount: 523,
    img: 'üí∫',
    imgUrl: '/products/B0F371HFBT.jpg',
    verdict: 'Best ultra-budget pick of 2026. Lightweight mesh chair with adjustable height and armrests, comfortable seat for sessions up to a few hours. The bare minimum to get started working from home ergonomically.',
    pros: ['Under $110', 'Breathable mesh', 'Clean minimalist design'],
    cons: ['Limited adjustments', 'No dedicated lumbar support'],
  },
  {
    rank: 5,
    badge: null,
    brand: 'Yaheetech',
    name: 'Ergonomic Faux Leather Office Chair',
    asin: 'B0D9GWQF84',
    price: '$82',
    rating: 4.1,
    reviewCount: 3420,
    img: '‚öôÔ∏è',
    imgUrl: '/products/B0D9GWQF84.jpg',
    verdict: 'The most affordable chair in our lineup. Yaheetech is a reliable Amazon brand. Great for 2‚Äì4 hours daily, or as a secondary chair. Don\'t expect it to handle 8-hour workdays comfortably.',
    pros: ['Unbeatable price', 'Established Amazon brand', 'Height adjustable'],
    cons: ['Not for full 8-hour days', 'Limited lumbar support'],
  },
];

const tocItems = [
  { id: 'comparison', label: 'Quick comparison table' },
  { id: 'how-to-choose', label: 'How to choose?' },
  ...products.map(p => ({ id: `product-${p.asin}`, label: `${p.rank}. ${p.brand} ${p.name}`, rank: p.rank })),
  { id: 'faq', label: 'Ergonomic chair FAQ' },
];

const schema = {
  '@context': 'https://schema.org',
  '@type': 'ItemList',
  name: 'Best Ergonomic Office Chairs 2026',
  numberOfItems: products.length,
  itemListElement: products.map((p, i) => ({
    '@type': 'ListItem',
    position: i + 1,
    name: `${p.brand} ${p.name}`,
    url: `https://homeofficesetup.net/best-ergonomic-chairs#product-${p.asin}`,
  })),
};
---

<BestOfEN
  title="Best Ergonomic Office Chairs 2026 ‚Äî Top 5 Tested"
  description={`Top ${products.length} ergonomic chairs for your home office in 2026. Honest reviews: CleverSeat, Alpha Chair, Hbada, Yaheetech ‚Äî tested and ranked.`}
  h1={`The ${products.length} Best Ergonomic Office Chairs (Tested 2026)`}
  intro="Sitting 8 hours a day on the wrong chair means 40 hours a week of strain on your spine. Here are the chairs that actually make a difference ‚Äî at every price point."
  lastUpdated={LAST_UPDATED}
  productsCount={products.length}
  tocItems={tocItems}
  schema={schema}
  breadcrumb={[{ label: 'Ergonomic Chairs', href: '/best-ergonomic-chairs' }]}
>

  <!-- Editor note -->
  <div class="bg-electric/5 border border-electric/20 rounded-2xl p-5 mb-10 flex gap-4 items-start">
    <span class="text-3xl shrink-0">üí°</span>
    <div>
      <p class="font-display font-bold text-ink mb-1">Editor's Recommendation</p>
      <p class="text-sm text-ink-muted leading-relaxed">
        <strong>Budget under $120?</strong> ‚Üí Yaheetech. <strong>$120‚Äì$180?</strong> ‚Üí Alpha Chair. <strong>$180‚Äì$270?</strong> ‚Üí CleverSeat with 3D armrests and proper lumbar. Every budget has a right chair.
      </p>
    </div>
  </div>

  <!-- Comparison table -->
  <section id="comparison" class="mb-12 scroll-mt-24">
    <h2 class="font-display text-2xl font-bold text-ink mb-6">At-a-Glance Comparison</h2>
    <div class="overflow-x-auto rounded-2xl border border-oak-200">
      <table class="w-full text-sm">
        <thead class="bg-ink text-cream">
          <tr>
            <th class="text-left px-4 py-3 font-display font-semibold">Chair</th>
            <th class="text-center px-3 py-3 font-display font-semibold">Price</th>
            <th class="text-center px-3 py-3 font-display font-semibold">Rating</th>
            <th class="text-center px-3 py-3 font-display font-semibold">Lumbar</th>
            <th class="text-center px-3 py-3 font-display font-semibold">Warranty</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-oak-100">
          {products.map(p => (
            <tr class={`hover:bg-oak-50 transition-colors ${p.highlight ? 'bg-electric/5' : 'bg-white'}`}>
              <td class="px-4 py-3 font-semibold text-ink">
                <span class="text-electric mr-2">#{p.rank}</span>
                {p.brand} {p.name}
                {p.badge === 'pick' && <span class="ml-2 badge-pick text-[10px] py-0.5">‚≠ê Top</span>}
                {p.badge === 'budget' && <span class="ml-2 badge-budget text-[10px] py-0.5">üí∞</span>}
              </td>
              <td class="px-3 py-3 text-center font-bold text-ink">{p.price}</td>
              <td class="px-3 py-3 text-center">
                <span class="text-amber-500">{'‚òÖ'.repeat(Math.round(p.rating))}</span>
                <span class="text-ink-muted text-xs ml-1">{p.rating}</span>
              </td>
              <td class="px-3 py-3 text-center text-ink-muted text-xs">
                {p.rank === 1 ? '3D Adjustable' : p.rank === 2 ? 'Adjustable' : p.rank === 3 ? 'Integrated' : p.rank === 4 ? 'Basic' : 'Minimal'}
              </td>
              <td class="px-3 py-3 text-center text-ink-muted">
                {p.rank <= 2 ? '2 years' : '1 year'}
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </section>

  <!-- How to choose -->
  <section id="how-to-choose" class="mb-12 scroll-mt-24">
    <h2 class="font-display text-2xl font-bold text-ink mb-5">How to Choose an Ergonomic Chair</h2>
    <div class="grid sm:grid-cols-2 gap-4">
      {[
        { emoji: 'üìê', title: 'Adjustability', text: 'Seat height, depth, lumbar support, armrests ‚Äî the more a chair adjusts, the better it adapts to your body. At minimum, get lumbar and height adjustment.' },
        { emoji: 'üå¨Ô∏è', title: 'Mesh vs foam', text: 'Mesh is cool and breathable, ideal for warm offices. High-density foam is more cushioned but can get hot. Both are valid ‚Äî pick based on your climate.' },
        { emoji: '‚è±Ô∏è', title: 'Budget vs longevity', text: 'A $200 chair lasts 3‚Äì5 years. A $900 premium chair can last 15+ years. Over 10 years, the cost difference is smaller than it appears upfront.' },
        { emoji: 'üîÑ', title: 'Return policy', text: 'Prioritize sellers with a generous return window. You need 1‚Äì2 weeks of daily use to truly evaluate a chair\'s fit for your body.' },
      ].map(item => (
        <div class="bg-oak-50 rounded-xl p-4 flex gap-3">
          <span class="text-2xl shrink-0">{item.emoji}</span>
          <div>
            <h3 class="font-semibold text-ink mb-1">{item.title}</h3>
            <p class="text-sm text-ink-muted leading-relaxed">{item.text}</p>
          </div>
        </div>
      ))}
    </div>
  </section>

  <!-- Products -->
  <section class="space-y-10 mb-12">
    <h2 class="font-display text-2xl font-bold text-ink">Detailed Reviews</h2>
    {products.map(product => (
      <ProductCard
        rank={product.rank}
        badge={product.badge}
        brand={product.brand}
        name={product.name}
        asin={product.asin}
        affiliateTag={AFFILIATE_TAG}
        price={product.price}
        rating={product.rating}
        reviewCount={product.reviewCount}
        img={product.img}
        imgUrl={product.imgUrl}
        pros={product.pros}
        cons={product.cons}
        verdict={product.verdict}
        highlight={product.highlight}
        lang="en"
      />
    ))}
  </section>

  <!-- FAQ -->
  <section id="faq" class="scroll-mt-24 mb-12">
    <h2 class="font-display text-2xl font-bold text-ink mb-6">Ergonomic Chair FAQ</h2>
    <div class="space-y-4">
      {[
        {
          q: 'Is an ergonomic chair worth the money?',
          a: 'Yes ‚Äî if you work more than 4 hours a day seated. Studies show a significant reduction in lower and upper back pain with a quality ergonomic chair. Even at $170, a chair with adjustable lumbar makes a real difference compared to a standard office chair.',
        },
        {
          q: 'Which chair should I pick at my budget?',
          a: 'Under $90: Yaheetech ‚Äî great for light use. $100‚Äì$170: Hbada or Alpha Chair ‚Äî solid value. $170‚Äì$270: CleverSeat with 3D armrests and adjustable lumbar. Over $270: look at premium brands refurbished (like Herman Miller or Steelcase secondhand).',
        },
        {
          q: 'Should I buy a refurbished ergonomic chair?',
          a: 'Absolutely ‚Äî especially for premium brands. Refurbished Herman Miller or Steelcase chairs cost 40‚Äì60% less and are professionally restored. For budget Amazon brands, new is better for warranty coverage.',
        },
      ].map(item => (
        <details class="group rounded-2xl bg-oak-50 border border-oak-100 overflow-hidden">
          <summary class="flex items-center justify-between gap-4 px-5 py-4 cursor-pointer font-semibold text-ink select-none hover:bg-oak-100 transition-colors">
            {item.q}
            <svg class="w-5 h-5 shrink-0 text-ink-muted group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </summary>
          <div class="px-5 pb-5 text-sm text-ink-muted leading-relaxed border-t border-oak-200 pt-4">
            {item.a}
          </div>
        </details>
      ))}
    </div>
  </section>

  <p class="disclosure text-center">
    Amazon affiliate links ‚Äî we earn small commissions at no extra cost to you. All recommendations are 100% independent.
  </p>

</BestOfEN>
