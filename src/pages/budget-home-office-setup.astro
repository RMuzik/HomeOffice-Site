---
import BestOf from '../layouts/BestOf.astro';
import ProductCard from '../components/ProductCard.astro';

const AFFILIATE_TAG = import.meta.env.AFFILIATE_TAG || 'homeofficepr-21';
const LAST_UPDATED = '21 f√©vrier 2026';

const setups = [
  {
    budget: '300‚Ç¨',
    title: 'Setup minimal fonctionnel',
    desc: 'Tout le n√©cessaire pour travailler confortablement.',
    color: 'bg-green-50 border-green-200',
    items: [
      { name: 'Bureau IKEA Lagkapten', price: '79‚Ç¨', role: 'Bureau' },
      { name: 'Chaise IKEA Markus', price: '149‚Ç¨', role: 'Chaise ergo' },
      { name: 'Moniteur AOC 24G2', price: '149‚Ç¨', role: '√âcran 24"' },
    ],
    total: '377‚Ç¨',
  },
  {
    budget: '500‚Ç¨',
    title: 'Setup productif √©quilibr√©',
    desc: 'Le sweet spot confort / ergonomie / budget.',
    color: 'bg-electric/5 border-electric/30',
    recommended: true,
    items: [
      { name: 'Bureau IKEA Bekant assis-debout', price: '219‚Ç¨', role: 'Bureau debout' },
      { name: 'FlexiSpot BS13', price: '249‚Ç¨', role: 'Chaise ergo' },
      { name: 'LG 27MN600P-B 27"', price: '229‚Ç¨', role: 'Moniteur' },
      { name: 'Logitech MK470', price: '59‚Ç¨', role: 'Clavier + souris' },
    ],
    total: '756‚Ç¨',
  },
  {
    budget: '1000‚Ç¨',
    title: 'Setup pro optimis√©',
    desc: 'Pour 8h/jour devant l\'√©cran ‚Äî investissement rentable.',
    color: 'bg-oak-50 border-oak-200',
    items: [
      { name: 'FlexiSpot E7 Pro', price: '499‚Ç¨', role: 'Bureau debout moteur' },
      { name: 'Secretlab Titan Evo', price: '449‚Ç¨', role: 'Chaise gaming ergo' },
      { name: 'LG 27UK850-W 4K USB-C', price: '399‚Ç¨', role: 'Moniteur 4K' },
      { name: 'Logitech MX Keys + MX Master 3', price: '199‚Ç¨', role: 'P√©riph√©riques pro' },
    ],
    total: '1 546‚Ç¨',
  },
];

const budgetProducts = [
  {
    rank: 1,
    badge: 'pick' as const,
    brand: 'IKEA',
    name: 'Markus ‚Äî Chaise de bureau',
    asin: 'B002Y3PJGU',
    price: '149‚Ç¨',
    rating: 4.5,
    reviewCount: 24831,
    img: 'ü™ë',
    highlight: true,
    verdict: 'La chaise ergonomique la plus vendue de France. Support lombaire int√©gr√©, hauteur r√©glable, accoudoirs fixes. Pour 149‚Ç¨, impossible de faire mieux.',
    pros: ['Prix imbattable', 'Disponible imm√©diatement', 'Lombaire int√©gr√©'],
    cons: ['Accoudoirs fixes', 'Durabilit√© 3-5 ans'],
  },
  {
    rank: 2,
    badge: 'budget' as const,
    brand: 'AOC',
    name: '24G2 ‚Äî Moniteur 24" Full HD IPS',
    asin: 'B08BHVXYMR',
    price: '149‚Ç¨',
    rating: 4.6,
    reviewCount: 12453,
    img: 'üì∫',
    verdict: 'Le meilleur moniteur 24" √† moins de 150‚Ç¨. IPS 75Hz, dalle sans bord, faible latence. Pour le travail bureautique, il fait tout ce qu\'on lui demande.',
    pros: ['Prix tr√®s comp√©titif', 'Dalle IPS fid√®le', 'Design sans bord'],
    cons: ['75Hz max', 'Pied peu r√©glable'],
  },
  {
    rank: 3,
    badge: null,
    brand: 'Logitech',
    name: 'MK470 ‚Äî Combo clavier + souris sans fil',
    asin: 'B07W6JRBSD',
    price: '59‚Ç¨',
    rating: 4.5,
    reviewCount: 8234,
    img: '‚å®Ô∏è',
    verdict: 'Le combo sans fil id√©al pour d√©buter. Frappe silencieuse, autonomie 24 mois, r√©cepteur USB nano. Suffisant pour 95% des usages bureautiques.',
    pros: ['Silencieux', 'Autonomie excellente', 'Plug & play'],
    cons: ['Pas d\'√©clairage', 'Souris basique'],
  },
  {
    rank: 4,
    badge: null,
    brand: 'Anker',
    name: 'PowerConf S3 ‚Äî Speakerphone Bluetooth',
    asin: 'B08GGZ2PMT',
    price: '79‚Ç¨',
    rating: 4.6,
    reviewCount: 3214,
    img: 'üéôÔ∏è',
    verdict: 'Le speakerphone qui transforme vos visioconf√©rences. Micro 360¬∞ r√©duction de bruit, compatible Zoom/Teams/Meet, autonomie 24h.',
    pros: ['Micro omnidirectionnel', 'R√©duction bruit active', 'Compatible tous outils'],
    cons: ['Moins bon qu\'un micro d√©di√©', 'Bluetooth uniquement'],
  },
];

const tocItems = [
  { id: 'setups', label: 'Setups par budget' },
  { id: 'produits-essentiels', label: 'Les 4 essentiels budget' },
  { id: 'conseils', label: 'Conseils pour √©conomiser' },
  { id: 'faq', label: 'FAQ' },
];
---

<BestOf
  title="Setup Home Office Budget 2026 ‚Äî Guide Complet"
  description="Comment construire un setup home office complet pour 300‚Ç¨, 500‚Ç¨ ou 1000‚Ç¨. Guide d'achat complet avec les meilleures options budget test√©es et compar√©es."
  h1="Setup home office budget : le guide complet 2026"
  intro="Construire un home office productif ne n√©cessite pas de d√©penser une fortune. Voici comment optimiser chaque euro selon votre budget ‚Äî de 300‚Ç¨ √† 1000‚Ç¨."
  lastUpdated={LAST_UPDATED}
  productsCount={budgetProducts.length}
  tocItems={tocItems}
  breadcrumb={[{ label: 'Setup budget', href: '/budget-home-office-setup' }]}
>

  <!-- SETUPS PAR BUDGET -->
  <section id="setups" class="mb-14 scroll-mt-24">
    <h2 class="font-display text-2xl font-bold text-ink mb-8">Setups complets par budget</h2>
    <div class="space-y-6">
      {setups.map((setup) => (
        <div class={`rounded-2xl border-2 p-6 ${setup.color} relative overflow-hidden`}>
          {setup.recommended && (
            <div class="absolute top-0 right-0 bg-electric text-white text-xs font-bold px-4 py-1.5 rounded-bl-xl">
              ‚≠ê Recommand√©
            </div>
          )}
          <div class="mb-4">
            <span class="inline-block px-3 py-1 rounded-full bg-ink text-cream text-xs font-bold mb-2">
              Budget {setup.budget}
            </span>
            <h3 class="font-display text-xl font-bold text-ink">{setup.title}</h3>
            <p class="text-sm text-ink-muted mt-1">{setup.desc}</p>
          </div>
          <div class="grid sm:grid-cols-2 gap-2 mb-4">
            {setup.items.map(item => (
              <div class="flex items-center justify-between bg-white/60 rounded-xl px-4 py-2.5">
                <div>
                  <p class="text-xs text-ink-muted">{item.role}</p>
                  <p class="font-medium text-ink text-sm">{item.name}</p>
                </div>
                <span class="font-bold text-ink shrink-0 ml-3">{item.price}</span>
              </div>
            ))}
          </div>
          <div class="flex items-center justify-between pt-3 border-t border-black/10">
            <span class="text-sm text-ink-muted">Total estim√©</span>
            <span class="font-display text-2xl font-bold text-ink">{setup.total}</span>
          </div>
        </div>
      ))}
    </div>
  </section>

  <!-- PRODUITS BUDGET -->
  <section id="produits-essentiels" class="mb-12 scroll-mt-24">
    <h2 class="font-display text-2xl font-bold text-ink mb-2">Les 4 essentiels budget</h2>
    <p class="text-ink-muted mb-8">Les produits qui donnent le plus pour votre argent.</p>
    <div class="space-y-10">
      {budgetProducts.map(product => (
        <ProductCard
          rank={product.rank}
          badge={product.badge}
          brand={product.brand}
          name={product.name}
          asin={product.asin}
          affiliateTag={AFFILIATE_TAG}
          price={product.price}
          rating={product.rating}
          reviewCount={product.reviewCount}
          img={product.img}
          pros={product.pros}
          cons={product.cons}
          verdict={product.verdict}
          highlight={product.highlight}
        />
      ))}
    </div>
  </section>

  <!-- CONSEILS -->
  <section id="conseils" class="mb-12 scroll-mt-24">
    <h2 class="font-display text-2xl font-bold text-ink mb-6">5 conseils pour maximiser votre budget</h2>
    <div class="space-y-4">
      {[
        { n: '01', title: 'Investissez d\'abord sur la chaise', text: 'C\'est la pi√®ce o√π vous passez 8h/jour. Une bonne chaise ergonomique (150-300‚Ç¨) prot√®ge votre dos. √âconomisez plut√¥t sur les accessoires.' },
        { n: '02', title: 'Achetez reconditionn√©', text: 'Moniteur ou chaise de marque premium reconditionn√©e = 40-60% moins cher. Amazon Renewed offre une garantie 12 mois.' },
        { n: '03', title: 'IKEA pour les meubles, premium pour l\'√©lectronique', text: 'Un bureau IKEA √† 100‚Ç¨ fait parfaitement l\'affaire. Mais ne faites pas d\'√©conomies sur le moniteur ou la chaise.' },
        { n: '04', title: 'Ajoutez les accessoires progressivement', text: 'Commencez avec bureau + chaise + moniteur. Ajoutez clavier, webcam, √©clairage au fur et √† mesure.' },
        { n: '05', title: 'Guettez Prime Day et le Black Friday', text: 'Amazon offre des r√©ductions de 20-40% sur l\'√©lectronique en juillet et novembre. Cr√©ez une wishlist en avance.' },
      ].map(item => (
        <div class="flex gap-5 p-5 bg-oak-50 rounded-2xl border border-oak-100">
          <span class="font-display text-3xl font-bold text-oak-300 shrink-0 leading-none">{item.n}</span>
          <div>
            <h3 class="font-display font-bold text-ink mb-1">{item.title}</h3>
            <p class="text-sm text-ink-muted leading-relaxed">{item.text}</p>
          </div>
        </div>
      ))}
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="scroll-mt-24 mb-12">
    <h2 class="font-display text-2xl font-bold text-ink mb-6">Questions fr√©quentes</h2>
    <div class="space-y-4">
      {[
        { q: 'Quel est le budget minimum pour un home office correct ?', a: 'Comptez minimum 300-400‚Ç¨ : bureau basique (80‚Ç¨), chaise IKEA Markus (149‚Ç¨) et moniteur 24" (149‚Ç¨). En dessous, vous ferez des compromis sur le confort qui impacteront votre productivit√© √† long terme.' },
        { q: 'Vaut-il mieux acheter tout d\'un coup ou progressivement ?', a: 'Progressivement, dans cet ordre : chaise ‚Üí moniteur ‚Üí bureau ‚Üí accessoires. La chaise est la priorit√© absolue ‚Äî elle prot√®ge votre dos.' },
        { q: 'Les produits reconditionn√©s sont-ils fiables ?', a: 'Oui, surtout via Amazon Renewed (garantie 12 mois) ou Back Market (garantie 24 mois). Pour les chaises premium, cherchez des remanufactur√©es ‚Äî remises √† neuf professionnellement.' },
      ].map(item => (
        <details class="group rounded-2xl bg-oak-50 border border-oak-100 overflow-hidden">
          <summary class="flex items-center justify-between gap-4 px-5 py-4 cursor-pointer font-semibold text-ink select-none hover:bg-oak-100 transition-colors">
            {item.q}
            <svg class="w-5 h-5 shrink-0 text-ink-muted group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </summary>
          <div class="px-5 pb-5 text-sm text-ink-muted leading-relaxed border-t border-oak-200 pt-4">
            {item.a}
          </div>
        </details>
      ))}
    </div>
  </section>

  <p class="disclosure text-center">
    Liens affili√©s Amazon Associates ‚Äî commissions per√ßues sans surco√ªt pour vous. Recommandations 100% ind√©pendantes.
  </p>

</BestOf>
